Vacation Email Auto-Reply Settings module for Usermin
by John Duksta <john@duksta.org>

Version 0.9 - 27 Mar 2003

---------------------------------------------------------------------
Description

This Usermin module will allow users to enable and disable
the vacation auto-reply program and set the vacation message.

If a user already has a .forward file (if they're using procmail
for example) it will save the existing ~/.forward to ~/.forward.vacation.bak
and append the vacation command to their .forward file. Otherwise,
it simply creates a new .forward with delivery to their mailbox
and the pipe to vacation.

It will also honor the 'edit-from' setting in the mailbox module.
Thus, if the mailbox module is configured not to allow editing
of the 'From:' line, neither will vacation.


---------------------------------------------------------------------
Prerequisites

This Usermin module is designed to work with Linux Vacation, which is a
port of the BSD vacation program. It can be found at 
http://vacation.sourceforge.net/

I haven't tested with any other vacation programs. YMMV.

---------------------------------------------------------------------
Installation

Untar the vacation module into the Usermin directory and complete
the required configuration below.


---------------------------------------------------------------------
Required configuration

The path to vacation must be set in Usermin Modules Configuration before 
this module will work properly for users.

---------------------------------------------------------------------
Dependencies

Checks the config of the mailbox module to determine the hostname to use 
for the user's 'From:' address. Vacation will now honor all the settings
possible here, including getting the hostname from the URL.

Also checks the 'edit-from' config option from the mailbox module
and honors the setting.


---------------------------------------------------------------------
To Do

- Test 'From:' map lookup. It 'should' work as I copied the code for 
	get_from() from reply_mail.cgi in the mailbox module, but I don't 
	use maps here, so I really don't know if it will work.

- Test if this works with qmail. I've been using Postfix for years
	now and have never tried qmail, so I have no idea if qmail honors
	.forward files.

---------------------------------------------------------------------
Thanks to Jamie Cameron for Webmin and Usermin in general and for the code
snippets I snagged from the mailbox module.

Thanks to Danny Trommer for the German Translation.

Thanks also go out to Jeffery Zeldman (http://www.zeldman.com) for
the JR Bob Dobbs icon I used for this module. I suck at making icons
and I figured JR Bob Dobbs was a good thing to denote vacation.
Gotta accumulate slack.

